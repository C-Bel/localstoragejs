<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style3.css" media="screen" title="no title">
    <title>Local Storage JS</title>
  </head>
  <body>
    <h1>Formulaire Local Storage JS</h1>

<div id="wrap">

	<form>
    <div class="form">

		<p><label>NOM</label></p>
		<p><input id="nom" name="nom" type="text"></p>
		<p><label>VALEUR</label></p>
		<p><input id="valeur" name="valeur" type="text"></p>

			<input type="button" value="Ecrire" id="stockage">
			<input type="reset" value="Effacer tout" id="effacer">
			<input type="button" value="Récupérer" id="lecture">
      <button id ="clear" onclick="window.localStorage.clear();">Reinitialiser</button>
		</p>
  </div>
	</form>

  <img src="fleche.png" alt="" />

  <div class="containeur1">
    <p id="yo"></p>
  </div>
</div>
<script>

document.getElementById('stockage').onclick = function() {
	if(typeof localStorage!='undefined' && JSON) {
		var coordonnees = {
			nom:document.getElementById('nom').value,
			valeur:document.getElementById('valeur').value,

		};
		localStorage.setItem('coord',JSON.stringify(coordonnees));
		alert("Mémorisation effectuée");
	} else alert("localStorage n'est pas supporté");
};

document.getElementById('lecture').onclick = function() {
	if(typeof localStorage!='undefined' && JSON) {
		var coordonnees = JSON.parse(localStorage.getItem('coord'));
		document.getElementById('nom').value = coordonnees.nom;
		document.getElementById('valeur').value = coordonnees.valeur;

    document.getElementById('yo').innerHTML = coordonnees.nom + " " + coordonnees.valeur;
		alert("Recupération des données.");
	} else alert("localStorage n'est pas supporté");
};

document.getElementById('supression').onclick = function(){
  document.getElementById('nom').value = coordonnees.nom;
  document.getElementById('valeur').value = coordonnees.valeur;
  localStorage.clear();
}

</script>


  </body>
</html>
